{{ $featured_image := .Param "featured_image"}}
{{ if $featured_image }}
  {{/* Trimming the slash and adding absURL make sure the image works no matter where our site lives */}}
  {{ $featured_image := (trim $featured_image "/") | absURL }}

  
  <html>

  <body>
  <header class="cover bg-top" style="background-image: url('{{ $featured_image }}');">
         
   <link href="https://fonts.googleapis.com/css2?family=Sofia&display=swap" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&family=Sofia&display=swap" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css2?family=Merienda&display=swap" rel="stylesheet" type="text/css">

       <div class="{{ .Site.Params.cover_dimming_class | default "bg-black-30" }}">
      {{ partial "site-navigation.html" .}}
      <div class="tc-l pv6 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white mb0 lh-title">
          {{ .Title | default .Site.Title }}
        </h1>
        {{ with .Params.description }}
          <h1 class="fw7-l f4 f3-l white  measure-wide-l center mt3" style="font-family:Satisfy">
            {{ . }} 
            <div id="countdown"></div>
            <script type="text/javascript">
            
              var countdown_html = document.getElementById("countdown");
            
            function countdown() {
            
                var return_string = '';
                var today = new Date();
                var weddingDate = new Date(2022, 06, 29, 16);
                var ms = weddingDate - today;
            
                if (ms > 0) {
                    var d = ms / (1000 * 60 * 60 * 24) | 0;
                    var h = ms % (1000 * 60 * 60 * 24) / (1000 * 60 * 60) | 0;
                    var m = ms % (1000 * 60 * 60) / (1000 * 60) | 0;
                    var s = ms % (1000 * 60) / (1000) | 0;
            
                    var timeParts = [d, h, m, s];
            //        console.log(timeParts);
                    var timeStringParts = new Array();
                    var timeString = "";
            
                    for (var i = 0; i < 4; i++) {
            
                        switch (i) {
                            case 0:
                                timeString = "d ";
                                break;
                            case 1:
                                timeString = "h ";
                                break;
                            case 2:
                                timeString = "m ";
                                break;
                            case 3:
                                timeString = "s ";
                                break;
                        }
                        
            
                    //    if (timeParts[i] > 1) {
                      //      timeString += 's';
                      //  }
            
                        if (timeParts[i] > 0) {
                            timeStringParts.push(timeParts[i] + timeString);
                        }
            
                    }
            
                    for (var i = 0; i < timeStringParts.length - 1; i++) {
            
                        return_string += timeStringParts[i];
                    }
            
                    return_string += (timeStringParts[timeStringParts.length - 1])
            
                } 
                else {
                    return_string = "E' oggi!!!";
                }
            
                return return_string;
            }
            
            setInterval(function() {
            countdown_html.innerHTML = '<p>' + countdown() + '</p>';
            }, 1000);
            </script>
            </div>
     

          </h1>
        {{ end }}
      </div>
    </div>
  </header>
{{ else }}
  <header>
    <div class="pb3-m pb6-l {{ .Site.Params.background_color_class | default "bg-black" }}">
      {{ partial "site-navigation.html" . }}
      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          {{ .Title | default .Site.Title }}
        </h1>
        {{ with .Params.description }}
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
            {{ . }}
          </h2>
        {{ end }}
      </div>
    </div>
  </header>

  </body>
  </html>
{{ end }}
